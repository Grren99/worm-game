# 온라인 지렁이 배틀 (Online Worm Battle)

실시간으로 최대 8명이 함께 즐기는 HTML5 캔버스 기반 지렁이 배틀 게임입니다. 성장과 충돌, 파워업, 채팅, 리플레이까지 한 곳에 모은 브라우저 멀티플레이 경험을 제공합니다.

## 주요 특징
- 🔄 **실시간 멀티플레이**: Socket.IO 기반으로 부드러운 20TPS 동기화
- 🎯 **다양한 게임 모드**: 클래식/배틀/스피드/토너먼트 규칙을 즉시 전환
- 🪱 **성장 시스템**: 음식을 먹을수록 몸이 길어지고, 골든 음식은 큰 보너스를 제공합니다
- ⚔️ **전략적 전투**: 벽이나 상대 지렁이와의 충돌에 주의하며 최후까지 생존하세요
- 🧰 **파워업**: 속도 증가, 무적, 작아지기 아이템으로 전세를 뒤집을 수 있습니다
- 🧑‍🎨 **커스터마이징**: 로비에서 원하는 지렁이 색상을 선택하고 게임 중에도 안전 구간에서 변경 가능합니다
- ⏱ **생존 보너스**: 오래 버틸수록 라운드 종료 시 추가 점수를 획득합니다
- 💬 **커뮤니케이션**: 실시간 채팅과 시스템 알림, 경기후 리플레이 지원
- 📊 **랭킹 & 통계**: 승리 횟수, 평균 점수, 생존 시간 기반으로 글로벌 통계 제공

## 빠른 시작
```bash
npm install
npm start
```

서버는 기본적으로 `http://localhost:3000` 에서 실행됩니다. 동일한 네트워크의 다른 브라우저도 접속하면 함께 플레이할 수 있습니다.

## 게임 플레이
- **참여 방법**: 닉네임을 적고 빠른 입장 또는 방 생성/참여를 선택합니다
- **모드 선택**: 방 생성 시 원하는 게임 모드를 고르고, 빠른 입장 시에도 선호 모드를 지정할 수 있습니다
- **조작법**: 방향키 또는 WASD로 이동합니다 (대각선 이동 불가)
- **목표**: 음식을 먹어 성장하고, 다른 지렁이를 따돌려 최후의 생존자가 되세요
- **게임 오버**: 자신의 몸, 다른 지렁이, 혹은 벽에 부딪히면 탈락합니다. 이후에는 관전 모드로 전환됩니다.
- **커스터마이징**: 좌측 로비 패널의 팔레트에서 색상을 선택하면 즉시 적용되며, 경기 전에는 즉시 바꿀 수 있습니다.
- **생존 보너스**: 생존 시간 1초마다 모드별 보너스 점수가 누적되어 라운드 종료 시 자동 반영됩니다.

## 게임 모드
| 모드 | 특징 | 추천 플레이 |
| --- | --- | --- |
| 클래식 | 표준 속도와 밸런스, 30개의 음식 스폰 | 첫 플레이 또는 정석 대결 |
| 배틀 | 음식·파워업 다량 등장, 빠른 성장 | 아이템 난전과 역전 플레이 |
| 스피드 | 기본 이동 속도 상향, 빠른 공방 | 순발력과 회피 능력 테스트 |
| 토너먼트 | 3승 선착의 라운드제, 라운드 간 인터미션 | 장기전과 팀 응원, 스트리밍 이벤트 |

## 인터페이스 요약
- **로비 패널**: 방 목록, 방 생성/참가, 플레이어 통계 확인
- **게임 패널**: 캔버스 렌더링, 실시간 점수판, 생존자 목록, 내 상태/버프 표시
- **메타 패널**: 시스템 알림, 채팅, 기본 조작 가이드
- **토너먼트 패널**: 라운드 진행 상황, 목표 승수, 다음 라운드 타이머를 한눈에 파악
- **리플레이 모드**: 경기 종료 후 상단 버튼으로 요청, 속도 조절과 타임라인 탐색 지원
- **사운드**: 기본 BGM과 먹이 섭취/사망/우승 효과음 탑재 (사용자 토글 가능)

## 기술 스택
- **프론트엔드**: HTML5 Canvas, 모듈형 JavaScript, CSS Grid/Flex
- **백엔드**: Node.js, Express, Socket.IO, UUID
- **데이터**: In-memory 룸/플레이어 상태 + MongoDB 연동을 염두에 둔 설계 (현재 서버 런타임 통계 저장)

## 개발 참고
- `server.js` 에서 게임 월드 규격, 파워업 지속시간, 점수 체계 등을 중앙 관리합니다
- `/public/js/main.js` 는 캔버스 렌더링, UI 업데이트, 소켓 이벤트, 오디오 제어를 담당합니다
- `/api/stats` 엔드포인트로 현재까지의 글로벌 통계를 JSON 으로 확인할 수 있습니다
- 개발 중에는 `npm run dev` 로 nodemon 감시 실행이 가능합니다

## 향후 아이디어
- MongoDB 연동으로 랭킹/프로필 영구 저장
- 모바일 터치 컨트롤 및 패드 UI
- 커스텀 룰(맵 크기, 파워업 빈도) 설정 옵션
- 고급 파티클/셰이더 기반 시각 효과

즐거운 지렁이 배틀 되세요! 🐛
